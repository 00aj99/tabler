{% assign id = 0 | random_id %}
<div class="p-3">
   <a href="{{ site.base }}" class="navbar-brand text-inherit">
      <img src="{{ site.base }}/img/logo{% if include.logo %}-{{ include.logo }}{% endif %}.svg" alt="" class="navbar-brand-logo">
   </a>
</div>

<div class="container">
   <h6 class="navbar-heading">
      Docs
   </h6>

   {{ page.menu }}

   <ul class="navbar-nav mb-md-4">
      {% for level-1 in site.data.menu %}
      {% assign icon = level-1[1].icon %}
      <li class="nav-item">
         <a class="nav-link{% if level-1[1].active %} active{% endif %}" {% if level-1[1].children or level-1[1].docs %}href="#sidebar-{{ level-1[0] }}" data-toggle="collapse" role="button" aria-expanded="false"{% else %}href="{{ site.base }}/{{ level-1[1].url }}"{% endif %}>
            {% include ui/icon.html icon=icon  %}
            <span class="nav-link-text">{{ level-1[1].title }}</span>
            {% if level-1[1].label %}
            <span class="badge bg-primary text-white ml-auto">{{ level-1[1].label }}</span>
            {% endif %}
         </a>
         {% if level-1[1].children or level-1[1].docs %}
         <div class="collapse navbar-collapse" id="sidebar-{{ level-1[0] }}">
            <ul class="nav nav-sm flex-column">

               {% if level-1[1].docs %}
               {% assign docs-key = level-1[1].docs %}
               {% for p in site.docs-menu[docs-key].pages %}
               {% assign doc = site.docs | where: "slug", p | first %}
               <li class="nav-item">
                  <a href="{{ site.base }}/docs/{{ doc.slug }}.html" class="nav-link">
                     {{ doc.title }}
                  </a>
               </li>
               {% endfor %}
               {% endif %}

               {% for level-2 in level-1[1].children %}
               <li class="nav-item">
                  <a {% if level-2[1].children %}href="#sidebar-{{ level-2[0] }}" data-toggle="collapse" role="button" aria-expanded="false"{% else %}href="{{ site.base }}/{{ level-2[1].url }}"{% endif %} class="nav-link">
                     {{ level-2[1].title }}
                  </a>
                  {% if level-2[1].children %}
                  <div class="collapse navbar-collapse" id="sidebar-{{ level-2[0] }}">
                     <ul class="nav nav-sm flex-column">
                        {% for level-3 in level-2[1].children %}
                        <li class="nav-item">
                           <a {% if level-3[1].children %}href="#sidebar-{{ level-3[0] }}" data-toggle="collapse" role="button" aria-expanded="false"{% else %}href="{{ site.base }}/{{ level-3[1].url }}"{% endif %}  class="nav-link">
                              {{ level-3[1].title }}
                           </a>

                           {% if level-3[1].children %}
                           <div class="collapse navbar-collapse" id="sidebar-{{ level-3[0] }}">
                              <ul class="nav nav-sm flex-column">
                                 {% for level-4 in level-3[1].children %}
                                 <li class="nav-item">
                                    <a href="{% if level-4[1].url %}{{ level-4[1].url }}{% else %}#{% endif %}" class="nav-link">
                                       {{ level-4[1].title }}
                                    </a>
                                 </li>
                                 {% endfor %}
                              </ul>
                           </div>
                           {% endif %}
                        </li>
                        {% endfor %}
                     </ul>
                  </div>
                  {% endif %}
               </li>
               {% endfor %}
            </ul>
         </div>
         {% endif %}
      </li>
      {% endfor %}
      <li class="nav-item dropdown">
         <a class="nav-link" href="#" >
            {% include ui/icon.html icon="book-open" %}
            <span class="nav-link-text">Components</span>
         </a>
      </li>
      <li class="nav-item">
         <a class="nav-link" href="#">
            {% include ui/icon.html icon="git-branch" %}
            <span class="nav-link-text">Changelog</span>
         </a>
      </li>
   </ul>
</div>
